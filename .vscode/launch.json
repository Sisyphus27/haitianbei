{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Train Judge LoRA",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/run.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "args": [
                "--mode", "train",
                "--train_backend", "llama-factory",
                "--train_task", "judge",
                "--train_jsonl", "${workspaceFolder}/data_provider/sft_with_kg.jsonl",
                "--rules_md_path", "${workspaceFolder}/tests/rules_sample.md",
                "--num_train_epochs", "1",
                "--per_device_train_batch_size", "1",
                "--learning_rate", "2e-5",
                "--no_fp16",
                "--grad_accum_steps", "1",
                "--max_seq_len", "1024",
                "--base_model_dir", "${workspaceFolder}/models/Qwen3-4B",
                "--judge_lora_out_dir", "${workspaceFolder}/results_entity_judge/lora/judge"
            ],
            "env": {"PYTHONPATH": "${workspaceFolder}"},
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Train Decomposer LoRA",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/run.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "args": [
                "--mode", "train",
                "--train_backend", "llama-factory",
                "--train_task", "decompose",
                "--decomp_events_file", "${workspaceFolder}/tests/events_sample.txt",
                "--rules_md_path", "${workspaceFolder}/tests/rules_sample.md",
                "--num_train_epochs", "1",
                "--per_device_train_batch_size", "1",
                "--learning_rate", "2e-5",
                "--no_fp16",
                "--grad_accum_steps", "1",
                "--max_seq_len", "1024",
                "--decomp_base_model_dir", "${workspaceFolder}/models/Qwen3-4B",
                "--decomp_lora_out_dir", "${workspaceFolder}/results_entity_judge/lora/decomposer"
            ],
            "env": {"PYTHONPATH": "${workspaceFolder}"},
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Train MARL",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/run.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "args": [
                "--mode", "marl-train",
                "--marl_n_agents", "8",
                "--marl_n_epoch", "5",
                "--marl_n_episodes", "5",
                "--marl_train_steps", "2",
                "--marl_evaluate_cycle", "5",
                "--marl_result_name", "demo",
                "--marl_result_dir", "${workspaceFolder}/htb_environment/result"
            ],
            "env": {"PYTHONPATH": "${workspaceFolder}"},
            "envFile": "${workspaceFolder}/.env"
        },
        {
            "name": "Stream Judge (conflict flow demo)",
            "type": "debugpy",
            "request": "launch",
            "program": "${workspaceFolder}/run.py",
            "console": "integratedTerminal",
            "cwd": "${workspaceFolder}",
            "args": [
                "--mode", "stream-judge",
                "--events_file", "${workspaceFolder}/data_provider/train_texts_conflict_aug_limit100.jsonl",
                "--rules_md_path", "${workspaceFolder}/tests/rules_sample.txt",
                "--enable_decomposer",
                "--print_decomposition",
                "--batch_size", "1",
                "--no_vllm",
                "--neo4j-uri", "bolt://localhost:8687",
                "--neo4j-user", "neo4j",
                "--neo4j-password", "Neo4jPass2025",
                "--lora_adapter_dir", "${workspaceFolder}/results_entity_judge/lora/judge",
                "--decomp_lora_adapter_dir", "${workspaceFolder}/results_entity_judge/lora/decomposer"
            ],
            "env": {"PYTHONPATH": "${workspaceFolder}"},
            "envFile": "${workspaceFolder}/.env"
        }
    ]
}